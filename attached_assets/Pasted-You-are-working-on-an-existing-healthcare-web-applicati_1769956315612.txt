You are working on an existing healthcare web application built during Sprint 1.
DO NOT remove or refactor existing features unless strictly necessary.
Extend the current codebase to implement the following Sprint 2 features.

TECH STACK CONSTRAINTS
- Use the existing framework, folder structure, and dependencies already present.
- Prefer free, built-in, or open-source solutions.
- Do NOT introduce paid APIs or services.
- Email notifications are preferred over SMS (no cost).
- Use environment variables for secrets.
- Ensure basic validation and role-based access (doctor vs patient).

========================
SPRINT 2 REQUIREMENTS
========================

1️⃣ DIGITAL PRESCRIPTIONS (Doctor → Patient)
- Doctors should be able to create and issue digital prescriptions.
- A prescription should include:
  - Patient ID
  - Doctor ID
  - Date
  - List of medicines (name, dosage, frequency, duration)
  - Optional notes
- Prescriptions must be:
  - Stored in the database
  - Viewable by the patient
- Add a simple "Download / View Prescription" option (PDF or printable page).
- Ensure only the issuing doctor and the respective patient can access it.

2️⃣ MEDICAL RECORD UPLOAD (Patient → Doctor)
- Patients should be able to upload medical documents (PDF, JPG, PNG).
- Files should be:
  - Stored securely (local storage or cloud storage already used in the app)
  - Associated with the patient profile
- Doctors should be able to:
  - View uploaded records for their patients
  - Download files
- Add basic file type and size validation.
- Show uploaded records in the patient dashboard.

3️⃣ APPOINTMENT NOTIFICATIONS (Email)
- Implement email notifications for upcoming appointments.
- Trigger emails:
  - When an appointment is created
  - Reminder before appointment (e.g., 24 hours prior)
- Use a free email solution:
  - SMTP (e.g., Gmail SMTP)
  - Nodemailer or equivalent
- Emails should include:
  - Appointment date and time
  - Doctor name
  - Patient name
- Keep templates simple (plain text or basic HTML).

4️⃣ IN-APP MESSAGING (Doctor ↔ Patient)
- Implement a basic chat system inside the app.
- Requirements:
  - One-to-one messaging between doctor and patient
  - Messages stored in the database
  - Timestamp for each message
- UI:
  - Simple chat interface (no real-time requirement if complex)
  - Polling or basic WebSocket if already available
- Access control:
  - Only assigned doctor and patient can message each other
- Mark messages as read/unread (optional but preferred).

========================
TECHNICAL GUIDELINES
========================
- Add necessary database models/tables:
  - Prescriptions
  - MedicalRecords
  - Messages
- Update API routes/controllers accordingly.
- Add minimal UI components to existing pages:
  - Doctor dashboard
  - Patient dashboard
- Ensure existing Sprint 1 features continue working.
- Add brief inline comments for new logic.
- If trade-offs are needed, prioritize simplicity over perfection.

After implementation:
- Ensure the app runs without errors
- Provide a short summary of what files were added or modified
- Mention any environment variables required